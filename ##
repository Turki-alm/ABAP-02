Classification: Public
REDHAT Q
Server a :
Q1. Configure network and set the static hostname.
hostname = servera.lab.example.com
ip-address = 172.25.250.10
subnetmask = 255.255.255.0
gateway = 172.25.250.254
Server Name = 172.25.254.254
ANS :
[root@servera ~]# hostname
[root@servera ~]# hostnamectl set-hostname servera.lab.example.com
[root@servera ~]# ifconfig
[root@servera ~]# nmcli connection show
[root@servera ~]# cat /etc/resolv.conf
[root@servera ~]# nmtui
#change ip and host according to the question
#systemctl restart NetworkManager
#systemctl reboot
[root@servera ~]# ifconfig
[root@servera ~]# cat /etc/resolv.conf
Classification: Public
Q2. Configure YUM repository with the 2given links (BaseOs and 
AppStream)
BaseOs: http://content.example.com/rhel8.0/x86_64/dvd/BaseOS
AppStream: 
http://content.example.com/rhel8.0/x86_64/dvd/AppStream
ANS :
[root@servera ~]# yum repolist
No repositories available
[root@servera ~]# vi /etc/yum.repos.d/rhel.repo
[BaseOs] 
name=BaseOs
baseurl=http://content.example.com/rhel8.0/x86_64/dvd/BaseOS
gpgcheck=0 
enabled=1
[AppStream] 
name=AppStream
baseurl=http://content.example.com/rhel8.0/x86_64/dvd/AppStream
gpgcheck=0
enabled=1
:wq!
verify:
[root@servera ~]# yum repolist
Classification: Public
Q3.A web server running on non standard port 82 is having issues 
serving content.
Debug and fix the issues. => The web server on your system can 
server all the existing HTML files from /var/www/html ( NOTE: Do not 
make any changes to these files ) => 
Web service should automatically start at boot time.
ANS:
# semanage port –l | grep http
# semanage port -a -t http_port_t -p tcp 82
# firewall-cmd --add-port=82/tcp --permanent 
# firewall-cmd --reload 
# vi /etc/httpd/conf/httpd.conf (Listen 80 change to 82) 
# systemctl restart httpd
# systemctl enable httpd 
# systemctl status httpd
# Curl http://........com:82
Classification: Public
Q4. Create User accounts with supplementary group. 
-group: sysadms
-users: 
natasha harry 
sarah (with nologin shell) 
-natasha and harry should be the member of sysadms group. 
-password for all users should be "trootent"
ANS :
[root@servera ~]# groupadd sysadmin
[root@servera ~]# id harry sarah natasha
[root@servera ~]# useradd -G sysadmin natasha
[root@servera ~]# useradd -G sysadmin harry
[root@servera ~]# useradd -G sysadmin -s /sbin/nologin sarah
[root@servera ~]# groupmems -lg sysadmin
[root@servera ~]# passwd --stdin harry , SARAH , natasha
[root@servera ~]# groupmems -lg sysadmin
Classification: Public
Q5. Cron Job
-Configure a cron job that runs every 3minutes and executes: 
logger "EX200 in progress" as the user newone1.
ANS :
[root@servera ~]# systemctl status crond
[root@servera ~]# systemctl restart crond
[root@servera ~]# crontab -eu newone1
*/1 * * * * logger "EX200 in progress"
:wq!
[root@servera ~]# crontab -lu natasha
verify:
[root@servera ~]# tail -f /var/log/messages
Classification: Public
Q6. Create a collaborative DIR. (change group owner, set the 
permissions along with sgid)
-Create the Directory "/home/sysadms" with the following 
characteristics.
-Group ownership of "/home/sysadms" should go to "sysadms" 
group.
-The directory should have full permission for all members of 
"sysadms" group but not to the other users except "root".
-Files created in future under "/home/sysadms" should get the same 
group ownership.
ANS : 
[root@servera ~]# mkdir /home/sysadms
[root@servera ~]# ls -ld /home/sysadms
[root@servera ~]# chgrp sysadms /home/sysadms
[root@servera ~]# chmod 2770 /home/sysadms
[root@servera ~]# touch /home/sysadms/file1.txt
[root@servera ~]# ls -l /home/sysadms/file1.txt
Classification: Public
Q7. Configure NTP
chrony server is "classroom.example.com"
ANS :
[root@servera ~]# systemctl status chronyd
[root@servera ~]# systemctl restart chronyd
[root@servera ~]# timedatectl
[root@servera ~]# chronyc sources -v
[root@servera ~]# vi /etc/chrony.conf
#server 0.rhel.pool.ntp.org iburst
server classroom.example.com iburst
:wq!
[root@servera ~]# systemctl restart chronyd
[root@servera ~]# timedatectl
# chronyc sources -v
Classification: Public
Q8.Configure autofs to automount the home directories of LDAP
users. Note the following:
a.classroom.example.com NFS-exports /netdir to your system
b.remoteuser7 home directory is,
classroom.example.com:/home/guests/remoteuser7
c.remoteuser7’s home directory should be auto mounted locally
beneath /home as /home/guests/remoteuser7.
d.home directories must be writable by their users.
Ans :
# systemctl status autofs
# vi /etc/auto.master
/home/guests /etc/auto.misc
:wq!
#vi /etc/auto.misc
Remoteuser7 -rw,sync classroom.example.com:/home/guests/remoteuser7
:wq!
# systemctl restart autofs
# systemctl enable autofs
Classification: Public
Q9. Create user 'bob' with 2112 uid and set the password 'trootent'
solution
[root@servera ~]# id bob
[root@servera ~]# useradd -u 2112 bob
[root@servera ~]# passwd --stdin bob
[root@servera ~]# id bob
uid=2112(bob) gid=2112(bob) groups=2112(bob)
[root@servera ~]# passwd -S bob
Q10. Locate all files owned by user 'harry' and copy it under '/root/harry-files'
solution
[root@servera ~]# id harry
uid=1002(harry) gid=1003(harry) groups=1003(harry),1001(sysadmin)
[root@servera ~]# mkdir /root/harry-files
[root@servera ~]# find / -user harry -exec cp -rvfp {} /root/harry-files \;
[root@servera ~]# ll -a /root/harry-files
Q11.Find a string 'ich' from '/usr/lib/mem/ex200/samplefile.txt' and 
put it into '/root/lines' file.
solution
[root@servera ~]# grep "ich" /usr/lib/mem/ex200/samplefile.txt >/root/lines
[root@servera ~]# cat /root/lines
Classification: Public
Q12.create an archive '/root/backup.tar.gz' of '/usr/local' dir and 
compress it with gzip.
ANS : 
tar -czvf /root/backup.tar.gz /usr/local
[root@servera ~]# ll /root
Q13. Create a Container for alth user
Use this link http://domain.exam.com/rhel9/Containerfile build 
image
named WATCH
Do not change anything in Containerfie
Ans:
[root@node1]$ ssh alth@node1 (if alth password wont give in
question try to put same password as root)
[alth@node1]$ wget http://domain.exam.com/rhel9/Containerfile
[alth@node1]$ loginctl enable-linger alth
[alth@node1]$ podman build -t monitor url 
[alth@node1]$ podman images
Classification: Public
Q14. Create a rootless container :-
1. Create a Container name asciipdf
2. Use monitor image for asciipdf which you previously created
3. Create a systemd services name container-asciipdf for alth user only
4. Service will automatically started across reboot do no any manual
intervention.
5. Local host Directory /opt/files attach to Container directory
/opt/incoming.
6. Local host Directory /opt/processed attach to container host
directory /opt/outgoing
7. If the service work properly, you place any plain text file in /opt/file
, then file automatically converts in pdf and also place into
/opt/outprocess
Ans:
[root@node1]# loginctl enable-linger alth
[root@node1]# mkdir /opt/files
[root@node1]# mkdir /opt/processed
[root@node1]# chown alth:alth /opt/files
[root@node1]# chown alth:alth /opt/processed
*** we must connect to server through ssh to alth****
Classification: Public
[root@node1]# ssh alth@node1
[alth@node1]$ podman run -d --name asciipdf -v
/opt/files:/opt/incoming:Z -v /opt/processed:/opt/outgoing:Z
localhost/monitor (podman images will give the path of the image)
[alth@node1]$ mkdir –p ~/.config/systemd/user
[alth@node1]$ cd ~/.config/systemd/user
[alth@node1]$ podman generate systemd --name asciipdf –files –new
[alth@node1]$podman stop asciipdf
[alth@node1]$podman rm asciipdf
[alth@node1]$ systemctl --user daemon-reload
[alth@node1]$ systemctl --user enable container-asciipdf
[alth@node1]$ systemctl --user start container-asciipdf
[alth@node1]$ systemctl --user status container-asciipdf
[alth@node1]$ exit
[root@node1]# touch /opt/files/test (check and verify that file is
converted or not)
Verification steps: - [root@node1.com]# reboot
[desktop@desktop]$ssh alth@node1
[alth@node1]$ systemctl --user status container-asciipdf
Classification: Public
Q15. When we will create any users in node1 the password of that
particular user should expire in 20days. (not given)
ans: - #vi /etc/login.defs
PASS_MAX_DAYS 20
:wq!
check: - add one user and put chage -l (user name)
Server B :
Q1. Reset root user password and make it 'trootent'
ANS :
reboot server2
press 'e' when kernel lines appear
findout 'linux' IN ro > rw init=/sysroot/bin/sh
ctrl +x 
chroot /sysroot
passwd –stdin root
exit
touch /.autorelabel
reboot
Classification: Public
Q2. Configure YUM repository with the 2given links (BaseOs and AppStream)
BaseOs: http://content.example.com/rhel8.0/x86_64/dvd/BaseOS
AppStream: http://content.example.com/rhel8.0/x86_64/dvd/AppStream
ANS :
[root@servera ~]# yum repolist
No repositories available
[root@servera ~]# vi /etc/yum.repos.d/rhel.repo
[BaseOs] 
name=BaseOs
baseurl=http://content.example.com/rhel8.0/x86_64/dvd/BaseOS
gpgcheck=0 
enabled=1
[AppStream] 
name=AppStream
baseurl=http://content.example.com/rhel8.0/x86_64/dvd/AppStream
gpgcheck=0
enabled=1
:wq!
verify:
[root@servera ~]# yum repolist
Classification: Public
Q3. Resize the logical volume "mylv". after reboot size should be in between 
200MB to 300MB
solution
[root@serverb ~]# pvs
[root@serverb ~]# vgs
[root@serverb ~]# lvs
[root@serverb ~]# lsblk
Lvextend -r -L 200M /dev/myvg/mylv
[root@serverb ~]# lvs 
[root@serverb ~]# lsblk
Q4. Add a swap partition of 512MB and mount it permanently.
Ans:
[root@serverb ~]# free -m
[root@serverb ~]# swapon -s
#fdisk /dev/vdb
press n > enter-->enter-->type +512M enter
select t for giving type to swap id is=19
w
#partprobe
#mkswap /dev/vdb
# vi /etc/fstab
/dev/vdb3 swap swap defaults 0 0
Classification: Public
:wq
#mount -a
# swapon /dev/vdb
#swapon –a
#swapon -s
#free -h [To check]
Q5. Create a logical Volume and mount it permanently.
- Create the logical volume with the name "wshare" by using 50PE's from the 
volume group "wgroup".
- Consider each PE size of volume group as "8MB".
- Mount it on '/mnt/wshare' with file system vfat.
solution
[root@serverb ~]# fdisk /dev/vdb
n > enter > enter > +1024M > P > t > l > 8e > lvm > P > w
[root@serverb ~]# partprobe
[root@serverb ~]# pvcreate /dev/vdb6
[root@serverb ~]# vgcreate -s 8M wgroup /dev/vdb6
[root@serverb ~]# vgdisplay
[root@serverb ~]# lvcreate -n wshare -l 50 wgroup
[root@serverb ~]# lvs
[root@serverb ~]# mkfs -t vfat /dev/mapper/wgroup-wshare
[root@serverb ~]# blkid
[root@serverb ~]# mkdir /mnt/wshare
Classification: Public
vi /etc/fstab
/dev/vdb6 /mnt/fedora vfat defaults 0 0
:wq!
[root@serverb ~]# mount -a
[root@serverb ~]# df -hT
Q20.Configure System Tuning:
-Choose the recommended 'tuned' profile for your system and set it 
as the default.
Ans : 
Systemctl status tuned 
# tuned-adm active
# tuned-adm recommend
# tuned-adm profile <give-recommended-profile-name-here>
# tuned-adm active
